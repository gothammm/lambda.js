//Lambda.js
//Version: v0.1
//Author: Gautham R

(function(){var e=this;e.lambda={};var t=!1;lambda.config={init:function(e){t=e&&e===!0?!0:!1,this.isOfTypeAttached=t,this.isOfTypeAttached&&lambda._setActionsToArrayPrototype.set()},isOfTypeAttached:t},lambda._util={mapKeyValue:function(e){var t=[];e||lambda.exception.throwEx("obj is undefined"),"object"!=typeof e&&lambda.exception.throwEx("obj must be of type object");for(var r in e)t.push({key:r,value:e[r]});return t}},lambda.exception={throwEx:function(e){throw console.log(e),e}},lambda._query={or:!1,and:!1,expression:[],type:{name:"query",hex:"7175657279"},isOfTypeQuery:function(e){if(!e)return!1;if(!e.type)return!1;if(e.type){var t=e.type;if(!t)return!1;if("object"!=typeof t)return!1;if(!t.name||!t.hex)return!1;if("query"==t.name&&"7175657279"==t.hex)return!0}return!1}},lambda._actions={_select:function(e,t){var r,a,o,n=0,i=this,c=!1,s={},l=[];for(e||lambda.exception.throwEx("Array is undefined"),t||(t=[]),e.length||"object"!=typeof e||lambda.exception.throwEx("'arr' parameter must be of type Array"),t.length||"object"!=typeof t||lambda.exception.throwEx("'props' parameter must be of type Array"),a=e.length,o=t.length,1==t.length&&(c=!0);a>n;n++){var u=e[n];if(c){var f=i.first(t),h=u[f];h&&l.push(h)}else{for(s={},r=0;o>r;r++){var f=t[r],h=u[f];h&&(s[f]=h)}l.push(s)}}return l},_first:function(e){return e||lambda.exception.throwEx("Array is undefined"),e.length||"object"!=typeof e||lambda.exception.throwEx("'arr' parameter must be of type Array"),e.length>0?e[0]:e},_where:function(e,t){e||lambda.exception.throwEx("Array is undefined"),e.length||"object"!=typeof e||lambda.exception.throwEx("'arr' parameter must be of type Array"),t||lambda.exception.throwEx("'query' is undefined"),"object"!=typeof t&&lambda.exception.throwEx("'query' parameter must be of type 'object'");var r=0,a=e.length,o=[],n=lambda._query.isOfTypeQuery(t);if(!n)for(var i=lambda.first(lambda._util.mapKeyValue(t));a>r;r++){var c=e[r];if(c){var s=i.key,l=i.value;c[s]&&c[s]==l&&o.push(c)}}return o},_getActions:function(){var e=this;return{select:e._select,first:e._first,where:e._where}}},lambda._setActionsToArrayPrototype={actions:{collection:{},getSelectAction:function(){return this.collection.select},getFirstAction:function(){return this.collection.first},getWhereAction:function(){return this.collection.where}},set:function(){var e=lambda._actions._getActions();this.actions.collection=e,this._setForArraySelect(),this._setForArrayFirst()},_setForArraySelect:function(){var e=this.actions;Array.prototype.select=function(t){var r=this;return e.getSelectAction()(r,t)}},_setForArrayFirst:function(){var e=this.actions;Array.prototype.first=function(){var t=this;return e.getFirstAction()(t)}},_setForArrayWhere:function(){var e=this.actions;Array.prototype.where=function(t){return e.getWhereAction()(t)}}};var r=lambda._actions._getActions();lambda.select=r.select,lambda.first=r.first,lambda.where=r.where,module&&(module.exports=lambda)})();